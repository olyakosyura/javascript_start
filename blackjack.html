<!DOCTYPE HTML>
<html>

<head>
  <!-- Тег meta для указания кодировки -->
  <meta charset="utf-8">
</head>

<body>

  <p>Начало документа...</p>
  <script>
	function getRandomInt(min,max){
		n = 5
		return Math.floor(Math.random()*(max-min+1))+min
	}
	
	function getCard(){
		var cards=['6','7','8','9','J','Q','K','A']
		return cards[getRandomInt(0,cards.length-1)]
	}
	
	function getSum(arr){
		var n = arr.length
		var sum = 0
		for (i=0; i<n; i++){
			if (arr[i]!='A'){
				if (arr[i]=='J'||arr[i]=='Q'||arr[i]=='K'){sum=sum+10}
				else {sum=sum+parseInt(arr[i])}
			} else 
			{
			if (sum>10){sum++} else {sum=sum+11}			
			}
		}
		return sum
	}

	function getStatus(){
		return 'Dealer: '+dealer.join(' ')+' Player: '+ player.join(' ')
	
	}
	var dealer = [getCard()]
	var player = [getCard(),getCard()]

	do {
	answer =(prompt(getStatus()+ ' Do you want a new card? 1- yes, else - no'))
	if (answer == '1'){
		player.push(getCard())
		sum = getSum(player)
		if (sum>21){
			alert('Too much. ' + getStatus())
			break
		} else if(sum==21){
			alert('Black Jack!' + getStatus())
			break
		}
	} else {
		while (getSum(dealer)<17){
			dealer.push(getCard())
		}
		
		var sumDealer = getSum(dealer)
		var sumPlayer = getSum(player)
		
		if (sumDealer == 21){alert('Dealer has a Black Jack!' + getStatus())}
		else if (sumDealer>21){alert('Dealer has too much'+getStatus())}
		else if (sumDealer==sumPlayer){alert('Dealer = Player')}
		else if (sumPlayer>sumDealer){'You win'+getStatus()}
		else {alert('Lose')+getStatus()}
	
	}
	
	}while(answer == '1')
	
	
	</script>

  <p>...Конец документа</p>

</body>

</html>